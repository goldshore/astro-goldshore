---
import AdminLayout from "../layouts/AdminLayout.astro";
import { GSButton, Card, Table } from "@goldshore/ui";

const stats = [
  { label: "Active nodes", value: "142", meta: "All systems operational" },
  { label: "Network load", value: "45%", meta: "Optimal efficiency" },
  { label: "Transactions (24h)", value: "8,432", meta: "+12% vs prev" },
  { label: "System alerts", value: "0", meta: "No open alerts" },
];

const activity = [
  { time: "10:42:05", event: "Node synchronization complete", status: "Success" },
  { time: "10:40:12", event: "Admin login: marzton", status: "Success" },
  { time: "10:35:00", event: "Daily backup routine started", status: "Pending" },
  { time: "10:15:22", event: "API rate limit warning", status: "Warning" },
];
---

<AdminLayout title="System Overview">
  <section class="gs-grid columns-3">
    {stats.map((stat) => (
      <Card>
        <div class="gs-kpi">
          <span>{stat.label}</span>
          <strong>{stat.value}</strong>
          <div class="gs-helper">{stat.meta}</div>
        </div>
      </Card>
    ))}
  </section>

  <section class="gs-grid columns-2 gs-mt-6">
    <Card>
      <div class="section-title"><span>⟳</span><h3>Real-time Traffic</h3></div>
      <p class="gs-helper">Synthetic sparkline placeholder showing inbound and outbound volume.</p>
      <div class="gs-banner">Traffic steady, latency within SLO.</div>
      <div class="gs-form-actions">
        <GSButton class="gs-button--small">Refresh</GSButton>
        <GSButton variant="secondary" class="gs-button--small">Export</GSButton>
      </div>
    </Card>

    <Card class="gs-table-card">
      <div class="section-title"><span>◎</span><h3>Recent Activity</h3></div>
      <Table>
        <thead>
          <tr><th>Time</th><th>Event</th><th>Status</th></tr>
        </thead>
        <tbody>
          {activity.map((item) => (
            <tr>
              <td>{item.time}</td>
              <td>{item.event}</td>
              <td>
                <span class={`gs-badge ${item.status === 'Warning' ? 'warning' : item.status === 'Pending' ? 'info' : 'success'}`}>
                  {item.status}
                </span>
              </td>
            </tr>
          ))}
        </tbody>
      </Table>
    </Card>
  </section>
</AdminLayout>
