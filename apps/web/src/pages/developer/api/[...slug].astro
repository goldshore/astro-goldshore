---
import Layout from '../../../layouts/BaseLayout.astro';
import ApiSidebar from '../../../components/ApiSidebar.astro';
import ApiEndpoint from '../../../components/ApiEndpoint.astro';

const { slug } = Astro.params;
const endpoint = slug || '';

// Mock data or fetch logic here.
// In a real scenario, we might import this from `@goldshore/api-spec` or similar.
const openapi = {
  info: { title: 'GoldShore API', version: '1.0.0' },
  paths: {
    '/system/status': {
      get: { summary: 'Get System Status', description: 'Returns the health of the system.' }
    }
  }
};
---

<html>
  <body class="api-body">

<Layout title="API Reference">
  <div class="api-container">
    <ApiSidebar openapi={openapi} />
    <main class="api-main">
      <ApiEndpoint openapi={openapi} endpoint={endpoint} />
    </main>
  </div>
</Layout>

<style>
  .api-container {
    display: flex;
    min-height: 100vh;
    background: var(--color-surface-1);
  }
  .api-main {
    flex: 1;
    padding: var(--space-4);
  }
</style>
