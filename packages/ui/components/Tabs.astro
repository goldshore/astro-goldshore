---
const { tabs = [] } = Astro.props;
---

<div class="gs-tabs">
  <div class="gs-tabs-header">
    {tabs.map((t) => (
      <button onclick={`showTab(event, '${t.id}')`}>{t.label}</button>
    ))}
  </div>

  {tabs.map((t) => (
    <div id={t.id} class="gs-tab" style={tabs.indexOf(t) === 0 ? 'display: block;' : 'display: none;'}>
      <slot name={t.id} />
    </div>
  ))}
</div>

<script is:inline>
  window.showTab = function(event, id) {
    const container = event.target.closest('.gs-tabs');
    if (!container) return;

    const contentTabs = container.querySelectorAll('.gs-tab');
    contentTabs.forEach((el) => {
        if (el.id === id) {
            el.style.display = 'block';
        } else {
            el.style.display = 'none';
        }
    });
  }
</script>

<style>
  .gs-tabs-header {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
  }
  .gs-tabs-header button {
    background: var(--gs-bg-panel);
    border: 1px solid var(--gs-border);
    padding: 0.45rem 1rem;
    border-radius: var(--gs-radius-md);
    color: var(--gs-fg-muted);
    cursor: pointer;
    font-family: inherit;
  }
  .gs-tabs-header button:hover {
      background: var(--gs-bg-elevated);
      color: var(--gs-fg);
  }
</style>
